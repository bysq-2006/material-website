# 管理页面使用说明

## 访问管理页面

1. 在浏览器中访问：`http://localhost:端口/admin`
2. 输入管理员密码进行登录
3. 登录成功后会显示管理面板

## 功能说明

### 登录功能
- 使用后端 `/api/login` 接口验证密码
- 登录成功后会保存 JWT token 到本地存储
- 支持自动登录（刷新页面时会检查本地 token）

### 待审核素材管理
- 自动获取待审核素材列表（最多10条）
- 显示素材的详细信息：
  - 素材名称
  - 文件类型和格式
  - 文件大小
  - 作者信息
  - 提交时间
  - 缩略图（如果有）

### 审核操作
- **通过**：将素材从待审核区移动到展示区
- **拒绝**：删除素材文件和数据库记录
- 每个操作都会有确认对话框
- 操作完成后会显示结果提示
- 自动刷新列表

### 其他功能
- **刷新列表**：手动刷新待审核素材列表
- **退出登录**：清除本地 token 并返回登录页面
- **响应式设计**：支持移动设备访问

## 注意事项

1. **后端修复**：使用前请先按照 `BACKEND_FIXES.md` 中的说明修复后端代码
2. **IP配置**：确保 `src/store/home.ts` 中的 IP 地址正确
3. **权限控制**：建议不要在导航栏中过于显眼地显示管理入口
4. **安全性**：生产环境中应使用更复杂的密钥和密码

## 文件结构

```
src/
├── content/admin/
│   ├── index.vue          # 管理页面主组件
│   ├── Login.vue          # 登录组件
│   ├── AdminHeader.vue    # 管理面板头部
│   └── PendingReview.vue  # 待审核素材列表
└── store/
    └── admin.ts           # 管理功能状态管理
```

## 状态管理

使用 Pinia 管理以下状态：
- `isLoggedIn`: 登录状态
- `token`: JWT token
- `pendingMaterials`: 待审核素材列表

## API 接口

- `POST /api/login` - 管理员登录
- `POST /api/review` - 审核素材（需要 JWT token）
- `GET /api/pending` - 获取待审核素材列表
